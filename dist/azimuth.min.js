function azimuth(a,b,c,d,e=0,f="m",g=0,h=1){var i=Number.prototype,j=Math.atan2,k=Math.abs,l=Math.round,m=Math.PI;function n(a){return a*(m/180)}function o(a){return a*(180/m)}if(isNaN(a)||isNaN(c)||isNaN(b)||isNaN(d)||isNaN(g)||isNaN(h))throw new Error("Parameter is not a number!");if(90<k(a)||90<k(c)||180<k(b)||180<k(d))throw new Error("Parameter exceeding maximal value!");i.round=function(a=0){let b=new Number(this.valueOf());return+(l(b+"e+"+a)+"e-"+a)};let p={distance:function(b,d,e,f){var g=Math.sqrt,h=Math.cos,i=Math.sin;const k=n(b-e),l=n(d-f),m=i(k/2)*i(k/2)+h(n(b))*h(n(b))*i(l/2)*i(l/2),a=2*j(g(m),g(1-m));return 6371009*a}(a,b,c,d).round(e),units:f};const q=function(a,b=0){return+(l(a+"e+"+b)+"e-"+b)}(function(a,b,c,d){var e=Math.log,f=Math.tan;startLatitude=n(a),startLongitude=n(b),endLatitude=n(c),endLongitude=n(d);var g=endLongitude-startLongitude,h=e(f(endLatitude/2+m/4)/f(startLatitude/2+m/4));return k(g)>m&&(0<g?g=-(2*m-g):g=2*m+g),(o(j(g,h))+360)%360}(a,b,c,d),g);return p.bearing=q,0!==h&&(p.direction=function(a,b){if(isNaN(a)||isNaN(b)){throw new Error("Parameter is not a number!")}if(0>a||360<a){throw new Error("Parameter outside of range!")}if(1>b||3<b){throw new Error("Parameter outside of range!")}if(1==b){var c=90,d=c/2,e=d+c,f=e+c,g=f+c;if(a<=d)return"N";if(a<=e)return"E";if(a<=f)return"S";if(a<=g)return"W";if(a>g)return"N"}if(2==b){var c=45,d=c/2,h=d+c,e=h+c,i=e+c,f=i+c,j=f+c,g=j+c,k=g+c;if(a<=d)return"N";if(a>d&&a<=h)return"NE";if(a>h&&a<=e)return"E";if(a>e&&a<=i)return"SE";if(a>i&&a<=f)return"S";if(a>f&&a<=j)return"SW";if(a>j&&a<=g)return"W";if(a>g&&a<=k)return"NW";if(a>k)return"N"}if(3==b){var c=360/16,d=c/2,l=d+c,h=l+c,m=h+c,e=m+c,n=e+c,i=n+c,o=i+c,f=o+c,p=f+c,j=p+c,q=j+c,g=q+c,r=g+c,k=r+c,s=k+c;if(a<=d)return"N";if(a<=l)return"NNE";if(a<=h)return"NE";if(a<=m)return"ENE";if(a<=e)return"E";if(a<=n)return"ESE";if(a<=i)return"SE";if(a<=o)return"SSE";if(a<=f)return"S";if(a<=p)return"SSW";if(a<=j)return"SW";if(a<=q)return"WSW";if(a<=g)return"W";if(a<=wnwTo)return"WNW";if(a<=k)return"NW";if(a<=s)return"NNW";if(a>s)return"N"}return""}(q,h)),p}